!function(){function t(e,n){if(!(this instanceof t))return new t(e,n);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,n||{})}var e=[],n=function(t){var e;return window.CustomEvent&&"function"==typeof window.CustomEvent?e=new CustomEvent(t):(e=document.createEvent("CustomEvent"),e.initCustomEvent(t,!1,!1,void 0)),e},r=function(t){var e,n=0,r=[];for(e=0;e<t.cells.length;e++)r.push(n),n+=t.cells[e].colSpan;return r},o=function(t){var e=t.parentElement;return r(e)[Array.prototype.indexOf.call(e.cells,t)]},i=function(t,e){var n=r(t).indexOf(e),o=t.cells[n];return o.getAttribute("data-sort")||o.textContent||o.innerText||""},a=function(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),t===e?0:t<e?1:-1},s=function(t,e){return function(n,r){var o=t(n.td,r.td);return 0===o?e?r.index-n.index:n.index-r.index:o}};t.extend=function(t,n,r){if("function"!=typeof n||"function"!=typeof r)throw new Error("Pattern and sort must be a function");e.push({name:t,pattern:n,sort:r})},t.prototype={init:function(t,e){var n,r,o,i,a=this;if(a.table=t,a.thead=!1,a.options=e,t.rows&&t.rows.length>0)if(t.tHead&&t.tHead.rows.length>0){for(o=0;o<t.tHead.rows.length;o++)if("thead"===t.tHead.rows[o].getAttribute("data-sort-method")){n=t.tHead.rows[o];break}n||(n=t.tHead.rows[t.tHead.rows.length-1]),a.thead=!0}else n=t.rows[0];if(n){var s=function(){a.current&&a.current!==this&&a.current.removeAttribute("aria-sort"),a.current=this,a.sortTable(this)};for(o=0;o<n.cells.length;o++)i=n.cells[o],i.setAttribute("role","columnheader"),"none"!==i.getAttribute("data-sort-method")&&(i.tabindex=0,i.addEventListener("click",s,!1),null!==i.getAttribute("data-sort-default")&&(r=i));r&&(a.current=r,a.sortTable(r))}},sortTable:function(t,r){var d=this,u=o(t),l=a,c="",f=[],h=d.thead?0:1,b=t.getAttribute("data-sort-method"),g=t.getAttribute("aria-sort");if(d.table.dispatchEvent(n("beforeSort")),r||(g="ascending"===g?"descending":"descending"===g?"ascending":d.options.descending?"ascending":"descending",t.setAttribute("aria-sort",g)),!(d.table.rows.length<2)){if(!b){for(;f.length<3&&h<d.table.tBodies[0].rows.length;)c=i(d.table.tBodies[0].rows[h],u),c=c.trim(),c.length>0&&f.push(c),h++;if(!f)return}for(h=0;h<e.length;h++)if(c=e[h],b){if(c.name===b){l=c.sort;break}}else if(f.every(c.pattern)){l=c.sort;break}for(d.col=u,h=0;h<d.table.tBodies.length;h++){var w,m=[],p={},v=0,x=0;if(!(d.table.tBodies[h].rows.length<2)){for(w=0;w<d.table.tBodies[h].rows.length;w++)c=d.table.tBodies[h].rows[w],"none"===c.getAttribute("data-sort-method")?p[v]=c:m.push({tr:c,td:i(c,d.col),index:v}),v++;for("descending"===g?(m.sort(s(l,!0)),m.reverse()):m.sort(s(l,!1)),w=0;w<v;w++)p[w]?(c=p[w],x++):c=m[w-x].tr,d.table.tBodies[h].appendChild(c)}}d.table.dispatchEvent(n("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},"undefined"!=typeof module&&module.exports?module.exports=t:window.Tablesort=t}(),function(){var t=function(t){return t.replace(/[^\-?0-9.]/g,"")},e=function(t,e){return t=parseFloat(t),e=parseFloat(e),t=isNaN(t)?0:t,e=isNaN(e)?0:e,t-e};Tablesort.extend("number",function(t){return t.match(/^-?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||t.match(/^-?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||t.match(/^-?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)},function(n,r){return n=t(n),r=t(r),e(r,n)})}();
